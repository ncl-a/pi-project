<div class="row justify-content-between">
  <div class="col-auto">
    <app-page-heading [title]="'home'" #heading></app-page-heading>
  </div>
</div>

<section id="basic-horizontal-layouts">
  <div class="row match-height">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">
            {{ "project-information" | translate }}
          </h4>
        </div>
        <div class="card-content" *ngIf="!!projectInformation">
          <div class="card-body">
            <form class="form form-horizontal">
              <div class="form-body">

                <div class="row">
                  <div class="col-md-4">
                    <label>
                      {{ "path" | translate }}
                    </label>
                  </div>
                  <div class="col-md-8">
                    <div class="form-group has-icon-left">
                      <div class="position-relative">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Path"
                          id="path"
                          [value]="projectInformation.path"
                          readonly
                        />
                        <div class="form-control-icon">
                          <i class="bi bi-folder-fill"></i>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="row">
                  <div class="col-md-4">
                    <label>
                      {{ "database-path" | translate }}
                    </label>
                  </div>
                  <div class="col-md-8">
                    <div class="form-group has-icon-left">
                      <div class="position-relative">
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Database"
                          id="database"
                          [value]="projectInformation.database_path"
                          readonly
                        />
                        <div class="form-control-icon">
                          <i class="bi bi-database-fill"></i>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="input-group-select">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">
            {{ "open-project" | translate }}
          </h4>
        </div>
        <div class="card-content">
          <div class="card-body">
            <form [formGroup]="openProjectForm">
              <div class="row">

                <div class="col-md-6 mb-4">
                  <h6>
                    {{ "select-project" | translate }}
                  </h6>
                  <div class="input-group mb-3">
                    <label
                      class="input-group-text"
                      for="inputGroupSelect01"
                      >
                      {{ "projects" | translate }}
                      </label>
                    <select class="form-select" id="inputGroupSelect01" (change)="select.value ? updatePath(select.value) : ''" #select>
                      <option value="" selected>
                        {{ "select" | translate }}
                      </option>
                      <option [value]="path" *ngFor="let path of projectsPaths">
                        {{ path }}
                      </option>
                    </select>
                  </div>
                </div>

                <div class="col-md-6 mb-4">
                  <h6>
                    {{ "insert-path" | translate }}
                  </h6>
                  <input
                    class="form-control"
                    type="text"
                    placeholder="{{ 'path' | translate }}"
                    formControlName="path"

                    #path
                  />
                </div>

              </div>

              <div class="row justify-content-end">

                <div class="col-auto">
                  <button class="btn icon btn-light" (click)="loadProjectsPaths()">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
                </div>

                <div class="col-auto">
                  <button class="btn icon icon-right btn-primary" [disabled]="openProjectForm.invalid" (click)="open()">
                    {{ "open" | translate }}
                    <i class="bi bi-box-arrow-up-right"></i>
                  </button>
                </div>

              </div>

              <div class="row justify-content-center mt-2" *ngIf="showError">
                <div class="col-auto">
                  <app-error-alert [dismissable]="true"
                                   [title]="'opening-error'"></app-error-alert>
                </div>
              </div>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
